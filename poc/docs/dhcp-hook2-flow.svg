<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260124.0452)
 -->
<!-- Title: dhcp_hook2 Pages: 1 -->
<svg width="2215pt" height="2408pt"
 viewBox="0.00 0.00 2215.00 2408.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2404.49)">
<title>dhcp_hook2</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2404.49 2211,-2404.49 2211,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="1103.5" y="-2385.09" font-family="Helvetica,Arial,sans-serif" font-size="12.00">dhcp_hook2.sh — BMC DHCP Hook</text>
<text xml:space="preserve" text-anchor="middle" x="1103.5" y="-2372.34" font-family="Helvetica,Arial,sans-serif" font-size="12.00">lib/bmc&#45;fsm.sh</text>
<g id="clust1" class="cluster">
<title>cluster_hook</title>
<polygon fill="#eef6ff" stroke="#2255aa" points="130,-1810.5 130,-2358.99 566,-2358.99 566,-1810.5 130,-1810.5"/>
<text xml:space="preserve" text-anchor="middle" x="348" y="-2342.64" font-family="Helvetica,Arial,sans-serif" font-size="13.00" fill="#2255aa">dhcp_hook2.sh</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_fsm</title>
<polygon fill="#fffde7" stroke="#e6a817" points="38,-956.5 38,-1784.5 392,-1784.5 392,-956.5 38,-956.5"/>
<text xml:space="preserve" text-anchor="middle" x="215" y="-1769.1" font-family="Helvetica,Arial,sans-serif" font-size="12.00" fill="#7a5000">fsm_process_bmc_event() &#160;[lib/bmc&#45;fsm.sh]</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_assign</title>
<polygon fill="#f5eeff" stroke="#6625a8" points="1504,-95 1504,-668.85 1958,-668.85 1958,-95 1504,-95"/>
<text xml:space="preserve" text-anchor="middle" x="1731" y="-654.4" font-family="Helvetica,Arial,sans-serif" font-size="11.00" fill="#6625a8">nb_assign_ip() &#160;[lib/bmc&#45;fsm.sh]</text>
<text xml:space="preserve" text-anchor="middle" x="1731" y="-642.4" font-family="Helvetica,Arial,sans-serif" font-size="11.00" fill="#6625a8">shared by all three action functions</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_offline</title>
<polygon fill="#e3f2fd" stroke="#1565c0" points="1078,-8 1078,-307.75 1496,-307.75 1496,-8 1078,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1287" y="-293.3" font-family="Helvetica,Arial,sans-serif" font-size="11.00">_fsm_offline_to_discovered() &#160;[offline → discovered]</text>
<text xml:space="preserve" text-anchor="middle" x="1287" y="-279.8" font-family="Helvetica,Arial,sans-serif" font-size="11.00">First DHCP seen — promote device state</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_discovered</title>
<polygon fill="#e0f7fa" stroke="#00695c" points="299,-722.8 299,-809.2 712,-809.2 712,-722.8 299,-722.8"/>
<text xml:space="preserve" text-anchor="middle" x="505.5" y="-794.75" font-family="Helvetica,Arial,sans-serif" font-size="11.00">_fsm_discovered_refresh() &#160;[discovered → discovered]</text>
<text xml:space="preserve" text-anchor="middle" x="505.5" y="-781.25" font-family="Helvetica,Arial,sans-serif" font-size="11.00">DHCP renewal before staging</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_active</title>
<polygon fill="#e8f5e9" stroke="#2e7d32" points="900,-457.6 900,-1042.9 1356,-1042.9 1356,-457.6 900,-457.6"/>
<text xml:space="preserve" text-anchor="middle" x="1128" y="-1028.45" font-family="Helvetica,Arial,sans-serif" font-size="11.00">_fsm_active_refresh() &#160;[active → active]</text>
<text xml:space="preserve" text-anchor="middle" x="1128" y="-1014.95" font-family="Helvetica,Arial,sans-serif" font-size="11.00">Live tenant device — audit only</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_stubs</title>
<polygon fill="#f5f5f5" stroke="#9e9e9e" stroke-dasharray="5,2" points="1380,-955.75 1380,-1030.15 2199,-1030.15 2199,-955.75 1380,-955.75"/>
<text xml:space="preserve" text-anchor="middle" x="1789.5" y="-1015.7" font-family="Helvetica,Arial,sans-serif" font-size="11.00" fill="#9e9e9e">Future transitions — implement function + uncomment FSM_TRANSITIONS row</text>
</g>
<!-- exit_ok -->
<g id="node1" class="node">
<title>exit_ok</title>
<ellipse fill="#d4edda" stroke="#28a745" cx="487" cy="-1737.3" rx="36.36" ry="18.14"/>
<text xml:space="preserve" text-anchor="middle" x="487" y="-1733.43" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Exit 0</text>
</g>
<!-- done -->
<g id="node2" class="node">
<title>done</title>
<ellipse fill="#d4edda" stroke="#28a745" cx="355" cy="-127.08" rx="34.77" ry="18.14"/>
<text xml:space="preserve" text-anchor="middle" x="355" y="-123.2" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Done</text>
</g>
<!-- h_start -->
<g id="node3" class="node">
<title>h_start</title>
<ellipse fill="#cce5ff" stroke="#2255aa" cx="253" cy="-2295.45" rx="114.85" ry="34.05"/>
<text xml:space="preserve" text-anchor="middle" x="253" y="-2302.82" font-family="Helvetica,Arial,sans-serif" font-size="10.00">ISC dhcpd executes hook</text>
<text xml:space="preserve" text-anchor="middle" x="253" y="-2291.57" font-family="Helvetica,Arial,sans-serif" font-size="10.00">on commit { execute(...) }</text>
<text xml:space="preserve" text-anchor="middle" x="253" y="-2280.32" font-family="Helvetica,Arial,sans-serif" font-size="10.00">$1=IP &#160;$2=MAC &#160;$3=hostname</text>
</g>
<!-- h_valid -->
<g id="node4" class="node">
<title>h_valid</title>
<path fill="#fff3cd" stroke="#856404" d="M263.11,-2205.37C263.11,-2205.37 204.97,-2178.53 204.97,-2178.53 199.53,-2176.02 199.53,-2170.98 204.97,-2168.47 204.97,-2168.47 263.11,-2141.63 263.11,-2141.63 268.55,-2139.12 279.45,-2139.12 284.89,-2141.63 284.89,-2141.63 343.03,-2168.47 343.03,-2168.47 348.47,-2170.98 348.47,-2176.02 343.03,-2178.53 343.03,-2178.53 284.89,-2205.37 284.89,-2205.37 279.45,-2207.88 268.55,-2207.88 263.11,-2205.37"/>
<text xml:space="preserve" text-anchor="middle" x="274" y="-2175.25" font-family="Helvetica,Arial,sans-serif" font-size="10.00">IP and MAC</text>
<text xml:space="preserve" text-anchor="middle" x="274" y="-2164" font-family="Helvetica,Arial,sans-serif" font-size="10.00">not empty?</text>
</g>
<!-- h_start&#45;&gt;h_valid -->
<g id="edge1" class="edge">
<title>h_start&#45;&gt;h_valid</title>
<path fill="none" stroke="#555555" d="M258.85,-2261.04C261.22,-2247.5 263.98,-2231.71 266.5,-2217.34"/>
<polygon fill="#555555" stroke="#555555" points="269.23,-2218 267.85,-2209.64 263.71,-2217.04 269.23,-2218"/>
</g>
<!-- h_err -->
<g id="node5" class="node">
<title>h_err</title>
<path fill="#f8d7da" stroke="#721c24" d="M531.46,-2076.4C531.46,-2076.4 430.54,-2076.4 430.54,-2076.4 424.54,-2076.4 418.54,-2070.4 418.54,-2064.4 418.54,-2064.4 418.54,-2052.4 418.54,-2052.4 418.54,-2046.4 424.54,-2040.4 430.54,-2040.4 430.54,-2040.4 531.46,-2040.4 531.46,-2040.4 537.46,-2040.4 543.46,-2046.4 543.46,-2052.4 543.46,-2052.4 543.46,-2064.4 543.46,-2064.4 543.46,-2070.4 537.46,-2076.4 531.46,-2076.4"/>
<text xml:space="preserve" text-anchor="middle" x="481" y="-2054.53" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_error: missing args</text>
</g>
<!-- h_valid&#45;&gt;h_err -->
<g id="edge2" class="edge">
<title>h_valid&#45;&gt;h_err</title>
<path fill="none" stroke="#dc3545" d="M310.06,-2152.8C346.56,-2132.85 402.9,-2102.07 440.82,-2081.35"/>
<polygon fill="#dc3545" stroke="#dc3545" points="442.08,-2083.85 447.76,-2077.56 439.4,-2078.94 442.08,-2083.85"/>
<text xml:space="preserve" text-anchor="middle" x="428.38" y="-2103.05" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#dc3545">yes — empty</text>
</g>
<!-- h_norm -->
<g id="node6" class="node">
<title>h_norm</title>
<path fill="#e8f4f8" stroke="#446688" d="M337.58,-2076.85C337.58,-2076.85 210.42,-2076.85 210.42,-2076.85 204.42,-2076.85 198.42,-2070.85 198.42,-2064.85 198.42,-2064.85 198.42,-2051.95 198.42,-2051.95 198.42,-2045.95 204.42,-2039.95 210.42,-2039.95 210.42,-2039.95 337.58,-2039.95 337.58,-2039.95 343.58,-2039.95 349.58,-2045.95 349.58,-2051.95 349.58,-2051.95 349.58,-2064.85 349.58,-2064.85 349.58,-2070.85 343.58,-2076.85 337.58,-2076.85"/>
<text xml:space="preserve" text-anchor="middle" x="274" y="-2060.15" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Normalize MAC</text>
<text xml:space="preserve" text-anchor="middle" x="274" y="-2048.9" font-family="Helvetica,Arial,sans-serif" font-size="10.00">lower&#45;case · colon&#45;separated</text>
</g>
<!-- h_valid&#45;&gt;h_norm -->
<g id="edge3" class="edge">
<title>h_valid&#45;&gt;h_norm</title>
<path fill="none" stroke="#555555" d="M274,-2136.09C274,-2119.88 274,-2101.13 274,-2086.23"/>
<polygon fill="#555555" stroke="#555555" points="276.8,-2086.57 274,-2078.57 271.2,-2086.57 276.8,-2086.57"/>
<text xml:space="preserve" text-anchor="middle" x="279.25" y="-2103.05" font-family="Helvetica,Arial,sans-serif" font-size="9.00">no</text>
</g>
<!-- h_err&#45;&gt;exit_ok -->
<g id="edge4" class="edge">
<title>h_err&#45;&gt;exit_ok</title>
<path fill="none" stroke="#555555" d="M481.36,-2040.11C482.08,-2005.19 483.74,-1923.79 485,-1855.4 485.57,-1824.45 486.17,-1788.89 486.56,-1765.16"/>
<polygon fill="#555555" stroke="#555555" points="489.36,-1765.32 486.69,-1757.27 483.76,-1765.22 489.36,-1765.32"/>
</g>
<!-- h_oui -->
<g id="node7" class="node">
<title>h_oui</title>
<path fill="#fff3cd" stroke="#856404" d="M262.52,-1985.45C262.52,-1985.45 164.31,-1955.55 164.31,-1955.55 158.57,-1953.8 158.57,-1950.3 164.31,-1948.55 164.31,-1948.55 262.52,-1918.65 262.52,-1918.65 268.26,-1916.9 279.74,-1916.9 285.48,-1918.65 285.48,-1918.65 383.69,-1948.55 383.69,-1948.55 389.43,-1950.3 389.43,-1953.8 383.69,-1955.55 383.69,-1955.55 285.48,-1985.45 285.48,-1985.45 279.74,-1987.2 268.26,-1987.2 262.52,-1985.45"/>
<text xml:space="preserve" text-anchor="middle" x="274" y="-1953.8" font-family="Helvetica,Arial,sans-serif" font-size="10.00">is_bmc_mac()</text>
<text xml:space="preserve" text-anchor="middle" x="274" y="-1942.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">OUI in BMC_OUIS[]?</text>
</g>
<!-- h_norm&#45;&gt;h_oui -->
<g id="edge5" class="edge">
<title>h_norm&#45;&gt;h_oui</title>
<path fill="none" stroke="#555555" d="M274,-2039.7C274,-2028.35 274,-2013.05 274,-1998.47"/>
<polygon fill="#555555" stroke="#555555" points="276.8,-1998.56 274,-1990.56 271.2,-1998.56 276.8,-1998.56"/>
</g>
<!-- h_skip -->
<g id="node8" class="node">
<title>h_skip</title>
<path fill="#f8d7da" stroke="#721c24" d="M453.46,-1855.4C453.46,-1855.4 376.54,-1855.4 376.54,-1855.4 370.54,-1855.4 364.54,-1849.4 364.54,-1843.4 364.54,-1843.4 364.54,-1830.5 364.54,-1830.5 364.54,-1824.5 370.54,-1818.5 376.54,-1818.5 376.54,-1818.5 453.46,-1818.5 453.46,-1818.5 459.46,-1818.5 465.46,-1824.5 465.46,-1830.5 465.46,-1830.5 465.46,-1843.4 465.46,-1843.4 465.46,-1849.4 459.46,-1855.4 453.46,-1855.4"/>
<text xml:space="preserve" text-anchor="middle" x="415" y="-1838.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Not a BMC MAC</text>
<text xml:space="preserve" text-anchor="middle" x="415" y="-1827.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">silent exit</text>
</g>
<!-- h_oui&#45;&gt;h_skip -->
<g id="edge6" class="edge">
<title>h_oui&#45;&gt;h_skip</title>
<path fill="none" stroke="#dc3545" d="M306.7,-1924.82C330.63,-1905.62 362.81,-1879.81 385.87,-1861.32"/>
<polygon fill="#dc3545" stroke="#dc3545" points="387.34,-1863.73 391.83,-1856.54 383.83,-1859.36 387.34,-1863.73"/>
<text xml:space="preserve" text-anchor="middle" x="380.03" y="-1881.6" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#dc3545">no match</text>
</g>
<!-- h_log -->
<g id="node9" class="node">
<title>h_log</title>
<path fill="#e8f4f8" stroke="#446688" d="M312.21,-1855.4C312.21,-1855.4 149.79,-1855.4 149.79,-1855.4 143.79,-1855.4 137.79,-1849.4 137.79,-1843.4 137.79,-1843.4 137.79,-1830.5 137.79,-1830.5 137.79,-1824.5 143.79,-1818.5 149.79,-1818.5 149.79,-1818.5 312.21,-1818.5 312.21,-1818.5 318.21,-1818.5 324.21,-1824.5 324.21,-1830.5 324.21,-1830.5 324.21,-1843.4 324.21,-1843.4 324.21,-1849.4 318.21,-1855.4 312.21,-1855.4"/>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1838.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_info</text>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1827.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">&quot;BMC DHCP lease: IP MAC HOST&quot;</text>
</g>
<!-- h_oui&#45;&gt;h_log -->
<g id="edge7" class="edge">
<title>h_oui&#45;&gt;h_log</title>
<path fill="none" stroke="#555555" d="M261.68,-1918.64C255.1,-1901.35 247.12,-1880.34 240.94,-1864.1"/>
<polygon fill="#555555" stroke="#555555" points="243.72,-1863.52 238.26,-1857.04 238.48,-1865.51 243.72,-1863.52"/>
<text xml:space="preserve" text-anchor="middle" x="262.3" y="-1881.6" font-family="Helvetica,Arial,sans-serif" font-size="9.00">match</text>
</g>
<!-- h_skip&#45;&gt;exit_ok -->
<g id="edge8" class="edge">
<title>h_skip&#45;&gt;exit_ok</title>
<path fill="none" stroke="#555555" d="M428.21,-1818.04C439.75,-1802.38 456.62,-1779.51 469.32,-1762.27"/>
<polygon fill="#555555" stroke="#555555" points="471.44,-1764.11 473.94,-1756.01 466.94,-1760.79 471.44,-1764.11"/>
</g>
<!-- fp_iface -->
<g id="node11" class="node">
<title>fp_iface</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M287.83,-1755.75C287.83,-1755.75 174.17,-1755.75 174.17,-1755.75 168.17,-1755.75 162.17,-1749.75 162.17,-1743.75 162.17,-1743.75 162.17,-1730.85 162.17,-1730.85 162.17,-1724.85 168.17,-1718.85 174.17,-1718.85 174.17,-1718.85 287.83,-1718.85 287.83,-1718.85 293.83,-1718.85 299.83,-1724.85 299.83,-1730.85 299.83,-1730.85 299.83,-1743.75 299.83,-1743.75 299.83,-1749.75 293.83,-1755.75 287.83,-1755.75"/>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1739.05" font-family="Helvetica,Arial,sans-serif" font-size="10.00">GET /api/dcim/interfaces/</text>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1727.8" font-family="Helvetica,Arial,sans-serif" font-size="10.00">?mac_address=MAC</text>
</g>
<!-- h_log&#45;&gt;fp_iface -->
<g id="edge9" class="edge">
<title>h_log&#45;&gt;fp_iface</title>
<path fill="none" stroke="#555555" d="M231,-1818.04C231,-1811.07 231,-1802.68 231,-1793.99"/>
<polygon fill="#555555" stroke="#555555" points="233.8,-1794.01 231,-1786.01 228.2,-1794.01 233.8,-1794.01"/>
</g>
<!-- h_call -->
<g id="node10" class="node">
<title>h_call</title>
<path fill="#fff9c4" stroke="#856404" d="M546.21,-2313.9C546.21,-2313.9 419.79,-2313.9 419.79,-2313.9 413.79,-2313.9 407.79,-2307.9 407.79,-2301.9 407.79,-2301.9 407.79,-2289 407.79,-2289 407.79,-2283 413.79,-2277 419.79,-2277 419.79,-2277 546.21,-2277 546.21,-2277 552.21,-2277 558.21,-2283 558.21,-2289 558.21,-2289 558.21,-2301.9 558.21,-2301.9 558.21,-2307.9 552.21,-2313.9 546.21,-2313.9"/>
<text xml:space="preserve" text-anchor="middle" x="483" y="-2297.2" font-family="Helvetica,Arial,sans-serif" font-size="10.00">fsm_process_bmc_event()</text>
<text xml:space="preserve" text-anchor="middle" x="483" y="-2285.95" font-family="Helvetica,Arial,sans-serif" font-size="10.00">trigger=dhcp_seen · mac · ip</text>
</g>
<!-- fp_ifchk -->
<g id="node12" class="node">
<title>fp_ifchk</title>
<path fill="#fff3cd" stroke="#856404" d="M220.6,-1661.87C220.6,-1661.87 177.23,-1636.93 177.23,-1636.93 172.03,-1633.94 172.03,-1627.96 177.23,-1624.97 177.23,-1624.97 220.6,-1600.03 220.6,-1600.03 225.8,-1597.04 236.2,-1597.04 241.4,-1600.03 241.4,-1600.03 284.77,-1624.97 284.77,-1624.97 289.97,-1627.96 289.97,-1633.94 284.77,-1636.93 284.77,-1636.93 241.4,-1661.87 241.4,-1661.87 236.2,-1664.86 225.8,-1664.86 220.6,-1661.87"/>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1632.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Interface</text>
<text xml:space="preserve" text-anchor="middle" x="231" y="-1621.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">found?</text>
</g>
<!-- fp_iface&#45;&gt;fp_ifchk -->
<g id="edge10" class="edge">
<title>fp_iface&#45;&gt;fp_ifchk</title>
<path fill="none" stroke="#555555" d="M231,-1718.6C231,-1707.34 231,-1692.21 231,-1677.74"/>
<polygon fill="#555555" stroke="#555555" points="233.8,-1677.89 231,-1669.89 228.2,-1677.89 233.8,-1677.89"/>
</g>
<!-- fp_noif -->
<g id="node13" class="node">
<title>fp_noif</title>
<path fill="#f8d7da" stroke="#721c24" d="M186.33,-1534.3C186.33,-1534.3 57.67,-1534.3 57.67,-1534.3 51.67,-1534.3 45.67,-1528.3 45.67,-1522.3 45.67,-1522.3 45.67,-1509.4 45.67,-1509.4 45.67,-1503.4 51.67,-1497.4 57.67,-1497.4 57.67,-1497.4 186.33,-1497.4 186.33,-1497.4 192.33,-1497.4 198.33,-1503.4 198.33,-1509.4 198.33,-1509.4 198.33,-1522.3 198.33,-1522.3 198.33,-1528.3 192.33,-1534.3 186.33,-1534.3"/>
<text xml:space="preserve" text-anchor="middle" x="122" y="-1517.6" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_warn: no device for MAC</text>
<text xml:space="preserve" text-anchor="middle" x="122" y="-1506.35" font-family="Helvetica,Arial,sans-serif" font-size="10.00">return 1</text>
</g>
<!-- fp_ifchk&#45;&gt;fp_noif -->
<g id="edge11" class="edge">
<title>fp_ifchk&#45;&gt;fp_noif</title>
<path fill="none" stroke="#dc3545" d="M208.42,-1606.52C190.09,-1587.5 164.33,-1560.77 145.7,-1541.45"/>
<polygon fill="#dc3545" stroke="#dc3545" points="147.81,-1539.6 140.24,-1535.78 143.78,-1543.48 147.81,-1539.6"/>
<text xml:space="preserve" text-anchor="middle" x="175.22" y="-1560.5" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#dc3545">no</text>
</g>
<!-- fp_dev -->
<g id="node14" class="node">
<title>fp_dev</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M371.58,-1533.85C371.58,-1533.85 250.42,-1533.85 250.42,-1533.85 244.42,-1533.85 238.42,-1527.85 238.42,-1521.85 238.42,-1521.85 238.42,-1509.85 238.42,-1509.85 238.42,-1503.85 244.42,-1497.85 250.42,-1497.85 250.42,-1497.85 371.58,-1497.85 371.58,-1497.85 377.58,-1497.85 383.58,-1503.85 383.58,-1509.85 383.58,-1509.85 383.58,-1521.85 383.58,-1521.85 383.58,-1527.85 377.58,-1533.85 371.58,-1533.85"/>
<text xml:space="preserve" text-anchor="middle" x="311" y="-1511.98" font-family="Helvetica,Arial,sans-serif" font-size="10.00">GET /api/dcim/devices/{id}/</text>
</g>
<!-- fp_ifchk&#45;&gt;fp_dev -->
<g id="edge12" class="edge">
<title>fp_ifchk&#45;&gt;fp_dev</title>
<path fill="none" stroke="#555555" d="M249.15,-1604.29C262.32,-1585.66 280.06,-1560.6 293.16,-1542.08"/>
<polygon fill="#555555" stroke="#555555" points="295.43,-1543.71 297.76,-1535.56 290.86,-1540.48 295.43,-1543.71"/>
<text xml:space="preserve" text-anchor="middle" x="287.64" y="-1560.5" font-family="Helvetica,Arial,sans-serif" font-size="9.00">yes</text>
</g>
<!-- fp_noif&#45;&gt;done -->
<g id="edge13" class="edge">
<title>fp_noif&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M66.36,-1496.95C34.18,-1482.74 0,-1459.2 0,-1423.33 0,-1423.33 0,-1423.33 0,-246.8 0,-181.69 217.47,-145.77 311.99,-133.23"/>
<polygon fill="#555555" stroke="#555555" points="312.21,-136.03 319.78,-132.22 311.49,-130.48 312.21,-136.03"/>
</g>
<!-- fp_found -->
<g id="node15" class="node">
<title>fp_found</title>
<path fill="#e8f4f8" stroke="#446688" d="M362.58,-1446.4C362.58,-1446.4 241.42,-1446.4 241.42,-1446.4 235.42,-1446.4 229.42,-1440.4 229.42,-1434.4 229.42,-1434.4 229.42,-1410.25 229.42,-1410.25 229.42,-1404.25 235.42,-1398.25 241.42,-1398.25 241.42,-1398.25 362.58,-1398.25 362.58,-1398.25 368.58,-1398.25 374.58,-1404.25 374.58,-1410.25 374.58,-1410.25 374.58,-1434.4 374.58,-1434.4 374.58,-1440.4 368.58,-1446.4 362.58,-1446.4"/>
<text xml:space="preserve" text-anchor="middle" x="302" y="-1429.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Device found</text>
<text xml:space="preserve" text-anchor="middle" x="302" y="-1418.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">(device_id · device_name</text>
<text xml:space="preserve" text-anchor="middle" x="302" y="-1407.2" font-family="Helvetica,Arial,sans-serif" font-size="10.00">interface_id · current_state)</text>
</g>
<!-- fp_dev&#45;&gt;fp_found -->
<g id="edge14" class="edge">
<title>fp_dev&#45;&gt;fp_found</title>
<path fill="none" stroke="#555555" d="M309.31,-1497.63C308.16,-1485.94 306.6,-1470.1 305.22,-1456.05"/>
<polygon fill="#555555" stroke="#555555" points="308.01,-1455.88 304.44,-1448.19 302.44,-1456.42 308.01,-1455.88"/>
</g>
<!-- fp_jrnl -->
<g id="node16" class="node">
<title>fp_jrnl</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M371.58,-1347.25C371.58,-1347.25 184.42,-1347.25 184.42,-1347.25 178.42,-1347.25 172.42,-1341.25 172.42,-1335.25 172.42,-1335.25 172.42,-1311.1 172.42,-1311.1 172.42,-1305.1 178.42,-1299.1 184.42,-1299.1 184.42,-1299.1 371.58,-1299.1 371.58,-1299.1 377.58,-1299.1 383.58,-1305.1 383.58,-1311.1 383.58,-1311.1 383.58,-1335.25 383.58,-1335.25 383.58,-1341.25 377.58,-1347.25 371.58,-1347.25"/>
<text xml:space="preserve" text-anchor="middle" x="278" y="-1330.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="278" y="-1319.3" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=success</text>
<text xml:space="preserve" text-anchor="middle" x="278" y="-1308.05" font-family="Helvetica,Arial,sans-serif" font-size="10.00">&quot;BMC discovered via DHCP — MAC / IP&quot;</text>
</g>
<!-- fp_found&#45;&gt;fp_jrnl -->
<g id="edge15" class="edge">
<title>fp_found&#45;&gt;fp_jrnl</title>
<path fill="none" stroke="#555555" d="M296.19,-1397.81C293.12,-1385.4 289.32,-1369.98 285.98,-1356.47"/>
<polygon fill="#555555" stroke="#555555" points="288.76,-1356.04 284.12,-1348.95 283.32,-1357.38 288.76,-1356.04"/>
</g>
<!-- fp_scan -->
<g id="node17" class="node">
<title>fp_scan</title>
<path fill="#e8f4f8" stroke="#446688" d="M369.83,-1248.1C369.83,-1248.1 196.17,-1248.1 196.17,-1248.1 190.17,-1248.1 184.17,-1242.1 184.17,-1236.1 184.17,-1236.1 184.17,-1223.2 184.17,-1223.2 184.17,-1217.2 190.17,-1211.2 196.17,-1211.2 196.17,-1211.2 369.83,-1211.2 369.83,-1211.2 375.83,-1211.2 381.83,-1217.2 381.83,-1223.2 381.83,-1223.2 381.83,-1236.1 381.83,-1236.1 381.83,-1242.1 375.83,-1248.1 369.83,-1248.1"/>
<text xml:space="preserve" text-anchor="middle" x="283" y="-1231.4" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Scan FSM_TRANSITIONS[]</text>
<text xml:space="preserve" text-anchor="middle" x="283" y="-1220.15" font-family="Helvetica,Arial,sans-serif" font-size="10.00">trigger=dhcp_seen · from=current_state</text>
</g>
<!-- fp_jrnl&#45;&gt;fp_scan -->
<g id="edge16" class="edge">
<title>fp_jrnl&#45;&gt;fp_scan</title>
<path fill="none" stroke="#555555" d="M279.29,-1298.61C279.97,-1286.11 280.81,-1270.71 281.52,-1257.72"/>
<polygon fill="#555555" stroke="#555555" points="284.31,-1258.01 281.95,-1249.87 278.72,-1257.7 284.31,-1258.01"/>
</g>
<!-- fp_match -->
<g id="node18" class="node">
<title>fp_match</title>
<path fill="#fff3cd" stroke="#856404" d="M297.43,-1154.52C297.43,-1154.52 249.9,-1128.98 249.9,-1128.98 244.62,-1126.14 244.62,-1120.46 249.9,-1117.62 249.9,-1117.62 297.43,-1092.08 297.43,-1092.08 302.71,-1089.24 313.29,-1089.24 318.57,-1092.08 318.57,-1092.08 366.1,-1117.62 366.1,-1117.62 371.38,-1120.46 371.38,-1126.14 366.1,-1128.98 366.1,-1128.98 318.57,-1154.52 318.57,-1154.52 313.29,-1157.36 302.71,-1157.36 297.43,-1154.52"/>
<text xml:space="preserve" text-anchor="middle" x="308" y="-1125.05" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Transition</text>
<text xml:space="preserve" text-anchor="middle" x="308" y="-1113.8" font-family="Helvetica,Arial,sans-serif" font-size="10.00">matched?</text>
</g>
<!-- fp_scan&#45;&gt;fp_match -->
<g id="edge17" class="edge">
<title>fp_scan&#45;&gt;fp_match</title>
<path fill="none" stroke="#555555" d="M287.24,-1210.95C290.22,-1198.5 294.34,-1181.33 298.12,-1165.54"/>
<polygon fill="#555555" stroke="#555555" points="300.8,-1166.36 299.94,-1157.93 295.36,-1165.06 300.8,-1166.36"/>
</g>
<!-- fp_nomatch -->
<g id="node19" class="node">
<title>fp_nomatch</title>
<path fill="#fff9c4" stroke="#856404" d="M212.58,-1001.4C212.58,-1001.4 73.42,-1001.4 73.42,-1001.4 67.42,-1001.4 61.42,-995.4 61.42,-989.4 61.42,-989.4 61.42,-976.5 61.42,-976.5 61.42,-970.5 67.42,-964.5 73.42,-964.5 73.42,-964.5 212.58,-964.5 212.58,-964.5 218.58,-964.5 224.58,-970.5 224.58,-976.5 224.58,-976.5 224.58,-989.4 224.58,-989.4 224.58,-995.4 218.58,-1001.4 212.58,-1001.4"/>
<text xml:space="preserve" text-anchor="middle" x="143" y="-984.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_warn: no transition for state</text>
<text xml:space="preserve" text-anchor="middle" x="143" y="-973.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST journal kind=warning</text>
</g>
<!-- fp_match&#45;&gt;fp_nomatch -->
<g id="edge18" class="edge">
<title>fp_match&#45;&gt;fp_nomatch</title>
<path fill="none" stroke="#e69138" d="M276.25,-1103.28C258.33,-1091.98 235.92,-1076.87 217.5,-1061.4 198.17,-1045.17 178.47,-1024.46 164.18,-1008.55"/>
<polygon fill="#e69138" stroke="#e69138" points="166.43,-1006.86 159.02,-1002.73 162.24,-1010.58 166.43,-1006.86"/>
<text xml:space="preserve" text-anchor="middle" x="236.25" y="-1052.48" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#e69138">no match</text>
</g>
<!-- o_patch -->
<g id="node28" class="node">
<title>o_patch</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1231.96,-266.25C1231.96,-266.25 1098.04,-266.25 1098.04,-266.25 1092.04,-266.25 1086.04,-260.25 1086.04,-254.25 1086.04,-254.25 1086.04,-241.35 1086.04,-241.35 1086.04,-235.35 1092.04,-229.35 1098.04,-229.35 1098.04,-229.35 1231.96,-229.35 1231.96,-229.35 1237.96,-229.35 1243.96,-235.35 1243.96,-241.35 1243.96,-241.35 1243.96,-254.25 1243.96,-254.25 1243.96,-260.25 1237.96,-266.25 1231.96,-266.25"/>
<text xml:space="preserve" text-anchor="middle" x="1165" y="-249.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">PATCH /api/dcim/devices/{id}/</text>
<text xml:space="preserve" text-anchor="middle" x="1165" y="-238.3" font-family="Helvetica,Arial,sans-serif" font-size="10.00">status = &quot;discovered&quot;</text>
</g>
<!-- fp_match&#45;&gt;o_patch -->
<g id="edge20" class="edge">
<title>fp_match&#45;&gt;o_patch</title>
<path fill="none" stroke="#555555" d="M296.53,-1092.22C258.87,-987.8 151.04,-637.59 324,-457.6 428.16,-349.21 882.24,-282.8 1076.41,-258.88"/>
<polygon fill="#555555" stroke="#555555" points="1068.77,-262.37 1076.49,-258.88 1068.28,-256.79 1068.77,-262.37"/>
<text xml:space="preserve" text-anchor="middle" x="273.47" y="-678.8" font-family="Helvetica,Arial,sans-serif" font-size="9.00">offline → discovered</text>
</g>
<!-- d_assign -->
<g id="node32" class="node">
<title>d_assign</title>
<path fill="#f5eeff" stroke="#6625a8" d="M692.34,-767.25C692.34,-767.25 563.66,-767.25 563.66,-767.25 557.66,-767.25 551.66,-761.25 551.66,-755.25 551.66,-755.25 551.66,-743.25 551.66,-743.25 551.66,-737.25 557.66,-731.25 563.66,-731.25 563.66,-731.25 692.34,-731.25 692.34,-731.25 698.34,-731.25 704.34,-737.25 704.34,-743.25 704.34,-743.25 704.34,-755.25 704.34,-755.25 704.34,-761.25 698.34,-767.25 692.34,-767.25"/>
<text xml:space="preserve" text-anchor="middle" x="628" y="-745.38" font-family="Helvetica,Arial,sans-serif" font-size="10.00">nb_assign_ip(interface_id, ip)</text>
</g>
<!-- fp_match&#45;&gt;d_assign -->
<g id="edge21" class="edge">
<title>fp_match&#45;&gt;d_assign</title>
<path fill="none" stroke="#555555" d="M329.24,-1097.6C377.93,-1041 498.92,-900.33 571.11,-816.39"/>
<polygon fill="#555555" stroke="#555555" points="573.22,-818.24 576.31,-810.35 568.97,-814.59 573.22,-818.24"/>
<text xml:space="preserve" text-anchor="middle" x="523.44" y="-930.2" font-family="Helvetica,Arial,sans-serif" font-size="9.00">discovered → discovered</text>
</g>
<!-- a_getip -->
<g id="node34" class="node">
<title>a_getip</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1065.59,-1001.4C1065.59,-1001.4 920.41,-1001.4 920.41,-1001.4 914.41,-1001.4 908.41,-995.4 908.41,-989.4 908.41,-989.4 908.41,-976.5 908.41,-976.5 908.41,-970.5 914.41,-964.5 920.41,-964.5 920.41,-964.5 1065.59,-964.5 1065.59,-964.5 1071.59,-964.5 1077.59,-970.5 1077.59,-976.5 1077.59,-976.5 1077.59,-989.4 1077.59,-989.4 1077.59,-995.4 1071.59,-1001.4 1065.59,-1001.4"/>
<text xml:space="preserve" text-anchor="middle" x="993" y="-984.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">GET /api/ipam/ip&#45;addresses/</text>
<text xml:space="preserve" text-anchor="middle" x="993" y="-973.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">?interface_id=IFACE_ID&amp;limit=1</text>
</g>
<!-- fp_match&#45;&gt;a_getip -->
<g id="edge22" class="edge">
<title>fp_match&#45;&gt;a_getip</title>
<path fill="none" stroke="#555555" d="M357.26,-1112.35C470.62,-1089.46 751.48,-1032.73 899.03,-1002.93"/>
<polygon fill="#555555" stroke="#555555" points="890.15,-1004.26 898.51,-1002.84 891.09,-998.74 890.15,-1004.26"/>
<text xml:space="preserve" text-anchor="middle" x="681.25" y="-1052.85" font-family="Helvetica,Arial,sans-serif" font-size="9.00">active → active</text>
</g>
<!-- s_pxe -->
<g id="node42" class="node">
<title>s_pxe</title>
<path fill="#f5f5f5" stroke="#9e9e9e" stroke-dasharray="5,2" d="M1560.46,-1002.15C1560.46,-1002.15 1399.54,-1002.15 1399.54,-1002.15 1393.54,-1002.15 1387.54,-996.15 1387.54,-990.15 1387.54,-990.15 1387.54,-975.75 1387.54,-975.75 1387.54,-969.75 1393.54,-963.75 1399.54,-963.75 1399.54,-963.75 1560.46,-963.75 1560.46,-963.75 1566.46,-963.75 1572.46,-969.75 1572.46,-975.75 1572.46,-975.75 1572.46,-990.15 1572.46,-990.15 1572.46,-996.15 1566.46,-1002.15 1560.46,-1002.15"/>
<text xml:space="preserve" text-anchor="middle" x="1480" y="-985.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">pxe_complete: discovered → staged</text>
<text xml:space="preserve" text-anchor="middle" x="1480" y="-972.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">_fsm_discovered_to_staged()</text>
</g>
<!-- fp_match&#45;&gt;s_pxe -->
<g id="edge23" class="edge">
<title>fp_match&#45;&gt;s_pxe</title>
<path fill="none" stroke="#9e9e9e" stroke-dasharray="5,2" d="M372.95,-1120.82C573.01,-1115.74 1177.7,-1096.25 1366,-1042.9 1374.61,-1040.46 1383.31,-1037.34 1391.88,-1033.81"/>
<polygon fill="#9e9e9e" stroke="#9e9e9e" points="1392.76,-1036.48 1399.01,-1030.75 1390.55,-1031.33 1392.76,-1036.48"/>
<text xml:space="preserve" text-anchor="middle" x="1371.45" y="-1052.48" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#9e9e9e">pxe_complete:discovered</text>
</g>
<!-- fp_nomatch&#45;&gt;done -->
<g id="edge19" class="edge">
<title>fp_nomatch&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M148.85,-964.25C155.06,-943.84 164,-909.18 164,-878.6 164,-878.6 164,-878.6 164,-246.8 164,-177.27 256.43,-147.02 312.69,-135.05"/>
<polygon fill="#555555" stroke="#555555" points="312.96,-137.85 320.25,-133.52 311.85,-132.37 312.96,-137.85"/>
</g>
<!-- as_post -->
<g id="node20" class="node">
<title>as_post</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1760.96,-628.85C1760.96,-628.85 1597.04,-628.85 1597.04,-628.85 1591.04,-628.85 1585.04,-622.85 1585.04,-616.85 1585.04,-616.85 1585.04,-581.45 1585.04,-581.45 1585.04,-575.45 1591.04,-569.45 1597.04,-569.45 1597.04,-569.45 1760.96,-569.45 1760.96,-569.45 1766.96,-569.45 1772.96,-575.45 1772.96,-581.45 1772.96,-581.45 1772.96,-616.85 1772.96,-616.85 1772.96,-622.85 1766.96,-628.85 1760.96,-628.85"/>
<text xml:space="preserve" text-anchor="middle" x="1679" y="-612.15" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/ipam/ip&#45;addresses/</text>
<text xml:space="preserve" text-anchor="middle" x="1679" y="-600.9" font-family="Helvetica,Arial,sans-serif" font-size="10.00">address=IP/PREFIX · status=active</text>
<text xml:space="preserve" text-anchor="middle" x="1679" y="-589.65" font-family="Helvetica,Arial,sans-serif" font-size="10.00">assigned_object_type=dcim.interface</text>
<text xml:space="preserve" text-anchor="middle" x="1679" y="-578.4" font-family="Helvetica,Arial,sans-serif" font-size="10.00">assigned_object_id=IFACE_ID</text>
</g>
<!-- as_code -->
<g id="node21" class="node">
<title>as_code</title>
<path fill="#fff3cd" stroke="#856404" d="M1700.38,-506.72C1700.38,-506.72 1623.45,-487.03 1623.45,-487.03 1617.64,-485.54 1617.64,-482.56 1623.45,-481.07 1623.45,-481.07 1700.38,-461.38 1700.38,-461.38 1706.19,-459.89 1717.81,-459.89 1723.62,-461.38 1723.62,-461.38 1800.55,-481.07 1800.55,-481.07 1806.36,-482.56 1806.36,-485.54 1800.55,-487.03 1800.55,-487.03 1723.62,-506.72 1723.62,-506.72 1717.81,-508.21 1706.19,-508.21 1700.38,-506.72"/>
<text xml:space="preserve" text-anchor="middle" x="1712" y="-480.17" font-family="Helvetica,Arial,sans-serif" font-size="10.00">HTTP response?</text>
</g>
<!-- as_post&#45;&gt;as_code -->
<g id="edge24" class="edge">
<title>as_post&#45;&gt;as_code</title>
<path fill="none" stroke="#555555" d="M1687.5,-569.02C1692.14,-553.12 1697.89,-533.4 1702.66,-517.06"/>
<polygon fill="#555555" stroke="#555555" points="1705.22,-518.3 1704.77,-509.83 1699.84,-516.73 1705.22,-518.3"/>
</g>
<!-- as_ok -->
<g id="node22" class="node">
<title>as_ok</title>
<path fill="#d4edda" stroke="#28a745" d="M1602.21,-393.02C1602.21,-393.02 1523.79,-393.02 1523.79,-393.02 1517.79,-393.02 1511.79,-387.02 1511.79,-381.02 1511.79,-381.02 1511.79,-368.12 1511.79,-368.12 1511.79,-362.12 1517.79,-356.12 1523.79,-356.12 1523.79,-356.12 1602.21,-356.12 1602.21,-356.12 1608.21,-356.12 1614.21,-362.12 1614.21,-368.12 1614.21,-368.12 1614.21,-381.02 1614.21,-381.02 1614.21,-387.02 1608.21,-393.02 1602.21,-393.02"/>
<text xml:space="preserve" text-anchor="middle" x="1563" y="-376.32" font-family="Helvetica,Arial,sans-serif" font-size="10.00">201 — IP created</text>
<text xml:space="preserve" text-anchor="middle" x="1563" y="-365.07" font-family="Helvetica,Arial,sans-serif" font-size="10.00">and assigned</text>
</g>
<!-- as_code&#45;&gt;as_ok -->
<g id="edge25" class="edge">
<title>as_code&#45;&gt;as_ok</title>
<path fill="none" stroke="#28a745" d="M1686.39,-464.57C1661.14,-446.36 1622.47,-418.47 1595.16,-398.78"/>
<polygon fill="#28a745" stroke="#28a745" points="1597.14,-396.75 1589.01,-394.34 1593.86,-401.29 1597.14,-396.75"/>
<text xml:space="preserve" text-anchor="middle" x="1649.84" y="-424.85" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#28a745">201</text>
</g>
<!-- as_dup -->
<g id="node23" class="node">
<title>as_dup</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1792.21,-398.65C1792.21,-398.65 1665.79,-398.65 1665.79,-398.65 1659.79,-398.65 1653.79,-392.65 1653.79,-386.65 1653.79,-386.65 1653.79,-362.5 1653.79,-362.5 1653.79,-356.5 1659.79,-350.5 1665.79,-350.5 1665.79,-350.5 1792.21,-350.5 1792.21,-350.5 1798.21,-350.5 1804.21,-356.5 1804.21,-362.5 1804.21,-362.5 1804.21,-386.65 1804.21,-386.65 1804.21,-392.65 1798.21,-398.65 1792.21,-398.65"/>
<text xml:space="preserve" text-anchor="middle" x="1729" y="-381.95" font-family="Helvetica,Arial,sans-serif" font-size="10.00">400 — duplicate</text>
<text xml:space="preserve" text-anchor="middle" x="1729" y="-370.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">GET /api/ipam/ip&#45;addresses/</text>
<text xml:space="preserve" text-anchor="middle" x="1729" y="-359.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">?address=IP/PREFIX</text>
</g>
<!-- as_code&#45;&gt;as_dup -->
<g id="edge26" class="edge">
<title>as_code&#45;&gt;as_dup</title>
<path fill="none" stroke="#856404" d="M1715.82,-458.93C1718.19,-443.93 1721.27,-424.44 1723.86,-408.09"/>
<polygon fill="#856404" stroke="#856404" points="1726.59,-408.71 1725.08,-400.37 1721.06,-407.84 1726.59,-408.71"/>
<text xml:space="preserve" text-anchor="middle" x="1728.88" y="-424.85" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#856404">400</text>
</g>
<!-- as_err -->
<g id="node27" class="node">
<title>as_err</title>
<path fill="#f8d7da" stroke="#721c24" d="M1937.71,-393.02C1937.71,-393.02 1856.29,-393.02 1856.29,-393.02 1850.29,-393.02 1844.29,-387.02 1844.29,-381.02 1844.29,-381.02 1844.29,-368.12 1844.29,-368.12 1844.29,-362.12 1850.29,-356.12 1856.29,-356.12 1856.29,-356.12 1937.71,-356.12 1937.71,-356.12 1943.71,-356.12 1949.71,-362.12 1949.71,-368.12 1949.71,-368.12 1949.71,-381.02 1949.71,-381.02 1949.71,-387.02 1943.71,-393.02 1937.71,-393.02"/>
<text xml:space="preserve" text-anchor="middle" x="1897" y="-376.32" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Other HTTP error</text>
<text xml:space="preserve" text-anchor="middle" x="1897" y="-365.07" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_error · return 1</text>
</g>
<!-- as_code&#45;&gt;as_err -->
<g id="edge27" class="edge">
<title>as_code&#45;&gt;as_err</title>
<path fill="none" stroke="#dc3545" d="M1741.72,-465.78C1773.31,-447.43 1823.38,-418.35 1858.08,-398.18"/>
<polygon fill="#dc3545" stroke="#dc3545" points="1859.3,-400.72 1864.81,-394.28 1856.48,-395.87 1859.3,-400.72"/>
<text xml:space="preserve" text-anchor="middle" x="1820.55" y="-424.85" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#dc3545">other</text>
</g>
<!-- o_jrnl2 -->
<g id="node31" class="node">
<title>o_jrnl2</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1476.21,-266.25C1476.21,-266.25 1295.79,-266.25 1295.79,-266.25 1289.79,-266.25 1283.79,-260.25 1283.79,-254.25 1283.79,-254.25 1283.79,-241.35 1283.79,-241.35 1283.79,-235.35 1289.79,-229.35 1295.79,-229.35 1295.79,-229.35 1476.21,-229.35 1476.21,-229.35 1482.21,-229.35 1488.21,-235.35 1488.21,-241.35 1488.21,-241.35 1488.21,-254.25 1488.21,-254.25 1488.21,-260.25 1482.21,-266.25 1476.21,-266.25"/>
<text xml:space="preserve" text-anchor="middle" x="1386" y="-249.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="1386" y="-238.3" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=info &#160;&quot;IP assigned to interface bmc&quot;</text>
</g>
<!-- as_ok&#45;&gt;o_jrnl2 -->
<g id="edge34" class="edge">
<title>as_ok&#45;&gt;o_jrnl2</title>
<path fill="none" stroke="#555555" d="M1504,-331.99C1475.6,-311.97 1442.63,-288.72 1418.76,-271.9"/>
<polygon fill="#555555" stroke="#555555" points="1420.7,-269.84 1412.55,-267.52 1417.48,-274.41 1420.7,-269.84"/>
<text xml:space="preserve" text-anchor="middle" x="1509.1" y="-316.95" font-family="Helvetica,Arial,sans-serif" font-size="9.00">assigned</text>
</g>
<!-- d_jrnl -->
<g id="node33" class="node">
<title>d_jrnl</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M499.21,-767.7C499.21,-767.7 318.79,-767.7 318.79,-767.7 312.79,-767.7 306.79,-761.7 306.79,-755.7 306.79,-755.7 306.79,-742.8 306.79,-742.8 306.79,-736.8 312.79,-730.8 318.79,-730.8 318.79,-730.8 499.21,-730.8 499.21,-730.8 505.21,-730.8 511.21,-736.8 511.21,-742.8 511.21,-742.8 511.21,-755.7 511.21,-755.7 511.21,-761.7 505.21,-767.7 499.21,-767.7"/>
<text xml:space="preserve" text-anchor="middle" x="409" y="-751" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="409" y="-739.75" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=info &#160;&quot;IP assigned to interface bmc&quot;</text>
</g>
<!-- as_ok&#45;&gt;d_jrnl -->
<g id="edge39" class="edge">
<title>as_ok&#45;&gt;d_jrnl</title>
<path fill="none" stroke="#555555" d="M1504,-375.6C1420.73,-377.05 1275.14,-385.17 1242,-423.65 1204.71,-466.94 1329.67,-413.5 1366,-457.6 1380.72,-475.47 1381.78,-492.75 1366,-509.7 1239.71,-645.39 695.21,-477.96 534,-569.45 473.49,-603.79 435.46,-680.91 418.8,-721.73"/>
<polygon fill="#555555" stroke="#555555" points="416.2,-720.7 415.86,-729.17 421.41,-722.76 416.2,-720.7"/>
<text xml:space="preserve" text-anchor="middle" x="1348.55" y="-535.9" font-family="Helvetica,Arial,sans-serif" font-size="9.00">assigned</text>
</g>
<!-- a_jrnl_n -->
<g id="node37" class="node">
<title>a_jrnl_n</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1335.96,-1001.4C1335.96,-1001.4 1130.04,-1001.4 1130.04,-1001.4 1124.04,-1001.4 1118.04,-995.4 1118.04,-989.4 1118.04,-989.4 1118.04,-976.5 1118.04,-976.5 1118.04,-970.5 1124.04,-964.5 1130.04,-964.5 1130.04,-964.5 1335.96,-964.5 1335.96,-964.5 1341.96,-964.5 1347.96,-970.5 1347.96,-976.5 1347.96,-976.5 1347.96,-989.4 1347.96,-989.4 1347.96,-995.4 1341.96,-1001.4 1335.96,-1001.4"/>
<text xml:space="preserve" text-anchor="middle" x="1233" y="-984.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="1233" y="-973.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=info &#160;&quot;BMC IP assigned (none on record)&quot;</text>
</g>
<!-- as_ok&#45;&gt;a_jrnl_n -->
<g id="edge45" class="edge">
<title>as_ok&#45;&gt;a_jrnl_n</title>
<path fill="none" stroke="#555555" d="M1504,-549.66C1447.01,-551.24 1390.94,-555.3 1362,-569.45 1307.92,-595.9 1322.94,-640.2 1270,-668.85 1226.79,-692.24 1209.78,-681.46 1161,-687.35 1084.69,-696.57 884.73,-677.94 816,-712.35 760.83,-739.97 746.59,-759.4 725,-817.2 706.09,-867.84 690.98,-900.33 729,-938.75 743.44,-953.34 1077.62,-953.32 1098,-955.75 1112.23,-957.45 1127.22,-959.79 1141.81,-962.39"/>
<polygon fill="#555555" stroke="#555555" points="1140.98,-965.08 1149.35,-963.76 1141.98,-959.57 1140.98,-965.08"/>
<text xml:space="preserve" text-anchor="middle" x="1271.67" y="-678.43" font-family="Helvetica,Arial,sans-serif" font-size="9.00">assigned</text>
</g>
<!-- as_dupchk -->
<g id="node24" class="node">
<title>as_dupchk</title>
<path fill="#fff3cd" stroke="#856404" d="M1717.88,-280.2C1717.88,-280.2 1648.95,-252.3 1648.95,-252.3 1643.39,-250.05 1643.39,-245.55 1648.95,-243.3 1648.95,-243.3 1717.88,-215.4 1717.88,-215.4 1723.44,-213.15 1734.56,-213.15 1740.12,-215.4 1740.12,-215.4 1809.05,-243.3 1809.05,-243.3 1814.61,-245.55 1814.61,-250.05 1809.05,-252.3 1809.05,-252.3 1740.12,-280.2 1740.12,-280.2 1734.56,-282.45 1723.44,-282.45 1717.88,-280.2"/>
<text xml:space="preserve" text-anchor="middle" x="1729" y="-249.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">Existing record</text>
<text xml:space="preserve" text-anchor="middle" x="1729" y="-238.3" font-family="Helvetica,Arial,sans-serif" font-size="10.00">found?</text>
</g>
<!-- as_dup&#45;&gt;as_dupchk -->
<g id="edge28" class="edge">
<title>as_dup&#45;&gt;as_dupchk</title>
<path fill="none" stroke="#555555" d="M1729,-350.11C1729,-334.4 1729,-313.23 1729,-294.29"/>
<polygon fill="#555555" stroke="#555555" points="1731.8,-294.44 1729,-286.44 1726.2,-294.44 1731.8,-294.44"/>
</g>
<!-- as_duperr -->
<g id="node25" class="node">
<title>as_duperr</title>
<path fill="#f8d7da" stroke="#721c24" d="M1892.34,-145.53C1892.34,-145.53 1793.66,-145.53 1793.66,-145.53 1787.66,-145.53 1781.66,-139.53 1781.66,-133.53 1781.66,-133.53 1781.66,-120.62 1781.66,-120.62 1781.66,-114.62 1787.66,-108.62 1793.66,-108.62 1793.66,-108.62 1892.34,-108.62 1892.34,-108.62 1898.34,-108.62 1904.34,-114.62 1904.34,-120.62 1904.34,-120.62 1904.34,-133.53 1904.34,-133.53 1904.34,-139.53 1898.34,-145.53 1892.34,-145.53"/>
<text xml:space="preserve" text-anchor="middle" x="1843" y="-128.82" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_error: IP not found</text>
<text xml:space="preserve" text-anchor="middle" x="1843" y="-117.57" font-family="Helvetica,Arial,sans-serif" font-size="10.00">return 1</text>
</g>
<!-- as_dupchk&#45;&gt;as_duperr -->
<g id="edge29" class="edge">
<title>as_dupchk&#45;&gt;as_duperr</title>
<path fill="none" stroke="#dc3545" d="M1754.02,-220.75C1773.48,-200.47 1800.31,-172.54 1819.4,-152.65"/>
<polygon fill="#dc3545" stroke="#dc3545" points="1821.24,-154.78 1824.76,-147.07 1817.2,-150.9 1821.24,-154.78"/>
<text xml:space="preserve" text-anchor="middle" x="1801.46" y="-177.35" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#dc3545">no</text>
</g>
<!-- as_patch -->
<g id="node26" class="node">
<title>as_patch</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1729.59,-151.15C1729.59,-151.15 1524.41,-151.15 1524.41,-151.15 1518.41,-151.15 1512.41,-145.15 1512.41,-139.15 1512.41,-139.15 1512.41,-115 1512.41,-115 1512.41,-109 1518.41,-103 1524.41,-103 1524.41,-103 1729.59,-103 1729.59,-103 1735.59,-103 1741.59,-109 1741.59,-115 1741.59,-115 1741.59,-139.15 1741.59,-139.15 1741.59,-145.15 1735.59,-151.15 1729.59,-151.15"/>
<text xml:space="preserve" text-anchor="middle" x="1627" y="-134.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00">PATCH /api/ipam/ip&#45;addresses/{id}/</text>
<text xml:space="preserve" text-anchor="middle" x="1627" y="-123.2" font-family="Helvetica,Arial,sans-serif" font-size="10.00">assigned_object_type=dcim.interface</text>
<text xml:space="preserve" text-anchor="middle" x="1627" y="-111.95" font-family="Helvetica,Arial,sans-serif" font-size="10.00">assigned_object_id=IFACE_ID · status=active</text>
</g>
<!-- as_dupchk&#45;&gt;as_patch -->
<g id="edge30" class="edge">
<title>as_dupchk&#45;&gt;as_patch</title>
<path fill="none" stroke="#555555" d="M1705.85,-219.86C1690.11,-201.54 1669.27,-177.27 1652.96,-158.3"/>
<polygon fill="#555555" stroke="#555555" points="1655.28,-156.69 1647.94,-152.45 1651.03,-160.34 1655.28,-156.69"/>
<text xml:space="preserve" text-anchor="middle" x="1682.07" y="-177.35" font-family="Helvetica,Arial,sans-serif" font-size="9.00">yes</text>
</g>
<!-- as_patch&#45;&gt;o_jrnl2 -->
<g id="edge35" class="edge">
<title>as_patch&#45;&gt;o_jrnl2</title>
<path fill="none" stroke="#555555" d="M1504,-159.22C1491.27,-164.16 1478.79,-169.79 1467.25,-176.15 1445.25,-188.28 1423.95,-207.15 1408.69,-222.34"/>
<polygon fill="#555555" stroke="#555555" points="1406.79,-220.27 1403.18,-227.94 1410.78,-224.2 1406.79,-220.27"/>
<text xml:space="preserve" text-anchor="middle" x="1490.12" y="-177.35" font-family="Helvetica,Arial,sans-serif" font-size="9.00">reassigned</text>
</g>
<!-- as_patch&#45;&gt;d_jrnl -->
<g id="edge40" class="edge">
<title>as_patch&#45;&gt;d_jrnl</title>
<path fill="none" stroke="#555555" d="M1504,-330.52C1499.95,-337.26 1495.94,-343.93 1492,-350.5 1440.45,-436.44 1462.78,-492.63 1377,-544.45 1330.62,-572.47 943.06,-558.49 890,-569.45 723.15,-603.9 537.17,-686.65 453.75,-726.32"/>
<polygon fill="#555555" stroke="#555555" points="452.66,-723.74 446.65,-729.71 455.07,-728.79 452.66,-723.74"/>
<text xml:space="preserve" text-anchor="middle" x="1482.18" y="-424.85" font-family="Helvetica,Arial,sans-serif" font-size="9.00">reassigned</text>
</g>
<!-- as_patch&#45;&gt;a_jrnl_n -->
<g id="edge46" class="edge">
<title>as_patch&#45;&gt;a_jrnl_n</title>
<path fill="none" stroke="#555555" d="M1504,-555.46C1479.58,-558.24 1458.63,-562.59 1444,-569.45 1388.12,-595.67 1398.42,-634.7 1347,-668.85 1328.3,-681.27 1321.91,-682.48 1300,-687.35 1212.62,-706.76 975.28,-667.2 898,-712.35 850.04,-740.37 848.37,-764.78 830,-817.2 765.26,-1001.95 812.2,-931.52 819,-938.75 840.28,-961.37 1067.19,-951.84 1098,-955.75 1111.79,-957.5 1126.3,-959.81 1140.48,-962.34"/>
<polygon fill="#555555" stroke="#555555" points="1139.88,-965.07 1148.25,-963.75 1140.88,-959.56 1139.88,-965.07"/>
<text xml:space="preserve" text-anchor="middle" x="1840.77" y="-535.9" font-family="Helvetica,Arial,sans-serif" font-size="9.00">reassigned</text>
</g>
<!-- o_jrnl1 -->
<g id="node29" class="node">
<title>o_jrnl1</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1361.71,-146.28C1361.71,-146.28 1196.29,-146.28 1196.29,-146.28 1190.29,-146.28 1184.29,-140.28 1184.29,-134.28 1184.29,-134.28 1184.29,-119.88 1184.29,-119.88 1184.29,-113.88 1190.29,-107.88 1196.29,-107.88 1196.29,-107.88 1361.71,-107.88 1361.71,-107.88 1367.71,-107.88 1373.71,-113.88 1373.71,-119.88 1373.71,-119.88 1373.71,-134.28 1373.71,-134.28 1373.71,-140.28 1367.71,-146.28 1361.71,-146.28"/>
<text xml:space="preserve" text-anchor="middle" x="1279" y="-129.57" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="1279" y="-118.32" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=success &#160;&quot;offline → discovered&quot;</text>
</g>
<!-- o_patch&#45;&gt;o_jrnl1 -->
<g id="edge31" class="edge">
<title>o_patch&#45;&gt;o_jrnl1</title>
<path fill="none" stroke="#555555" d="M1182.07,-229.03C1201.32,-208.98 1232.78,-176.21 1254.62,-153.47"/>
<polygon fill="#555555" stroke="#555555" points="1256.49,-155.56 1260.01,-147.85 1252.45,-151.68 1256.49,-155.56"/>
</g>
<!-- o_assign -->
<g id="node30" class="node">
<title>o_assign</title>
<path fill="#f5eeff" stroke="#6625a8" d="M1410.34,-52C1410.34,-52 1281.66,-52 1281.66,-52 1275.66,-52 1269.66,-46 1269.66,-40 1269.66,-40 1269.66,-28 1269.66,-28 1269.66,-22 1275.66,-16 1281.66,-16 1281.66,-16 1410.34,-16 1410.34,-16 1416.34,-16 1422.34,-22 1422.34,-28 1422.34,-28 1422.34,-40 1422.34,-40 1422.34,-46 1416.34,-52 1410.34,-52"/>
<text xml:space="preserve" text-anchor="middle" x="1346" y="-30.12" font-family="Helvetica,Arial,sans-serif" font-size="10.00">nb_assign_ip(interface_id, ip)</text>
</g>
<!-- o_jrnl1&#45;&gt;o_assign -->
<g id="edge32" class="edge">
<title>o_jrnl1&#45;&gt;o_assign</title>
<path fill="none" stroke="#555555" d="M1292.56,-107.64C1302.65,-93.92 1316.54,-75.04 1327.63,-59.96"/>
<polygon fill="#555555" stroke="#555555" points="1329.76,-61.8 1332.25,-53.7 1325.25,-58.48 1329.76,-61.8"/>
</g>
<!-- o_assign&#45;&gt;as_post -->
<g id="edge33" class="edge">
<title>o_assign&#45;&gt;as_post</title>
<path fill="none" stroke="#555555" d="M1422.5,-35.46C1627.73,-37.72 2175,-50.78 2175,-126.08 2175,-485.05 2175,-485.05 2175,-485.05 2175,-519.56 2155.36,-528.04 2125,-544.45 2095.25,-560.53 2034.47,-571.88 1967.11,-579.85"/>
<polygon fill="#555555" stroke="#555555" points="1967.12,-577.03 1959.5,-580.73 1967.77,-582.59 1967.12,-577.03"/>
</g>
<!-- o_jrnl2&#45;&gt;done -->
<g id="edge36" class="edge">
<title>o_jrnl2&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M1078,-180.07C797.17,-141.22 507.85,-131.3 399.5,-128.85"/>
<polygon fill="#555555" stroke="#555555" points="399.62,-126.05 391.56,-128.67 399.5,-131.65 399.62,-126.05"/>
</g>
<!-- d_assign&#45;&gt;as_post -->
<g id="edge37" class="edge">
<title>d_assign&#45;&gt;as_post</title>
<path fill="none" stroke="#555555" d="M677.45,-730.79C729.55,-713.35 814.39,-687.62 890,-676.85 994.74,-661.94 1260.92,-681.14 1366,-668.85 1408.04,-663.93 1452.73,-655.87 1494.79,-646.97"/>
<polygon fill="#555555" stroke="#555555" points="1495.29,-649.73 1502.52,-645.31 1494.11,-644.25 1495.29,-649.73"/>
</g>
<!-- d_jrnl&#45;&gt;done -->
<g id="edge38" class="edge">
<title>d_jrnl&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M393.53,-722.8C377.58,-694.08 355,-645.45 355,-600.15 355,-600.15 355,-600.15 355,-246.8 355,-215.1 355,-178.63 355,-154.57"/>
<polygon fill="#555555" stroke="#555555" points="357.8,-154.89 355,-146.89 352.2,-154.89 357.8,-154.89"/>
</g>
<!-- a_count -->
<g id="node35" class="node">
<title>a_count</title>
<path fill="#fff3cd" stroke="#856404" d="M1061.52,-899.76C1061.52,-899.76 1000.06,-881.09 1000.06,-881.09 994.32,-879.34 994.32,-875.86 1000.06,-874.11 1000.06,-874.11 1061.52,-855.44 1061.52,-855.44 1067.26,-853.69 1078.74,-853.69 1084.48,-855.44 1084.48,-855.44 1145.94,-874.11 1145.94,-874.11 1151.68,-875.86 1151.68,-879.34 1145.94,-881.09 1145.94,-881.09 1084.48,-899.76 1084.48,-899.76 1078.74,-901.51 1067.26,-901.51 1061.52,-899.76"/>
<text xml:space="preserve" text-anchor="middle" x="1073" y="-873.73" font-family="Helvetica,Arial,sans-serif" font-size="10.00">IP on record?</text>
</g>
<!-- a_getip&#45;&gt;a_count -->
<g id="edge41" class="edge">
<title>a_getip&#45;&gt;a_count</title>
<path fill="none" stroke="#555555" d="M1006.57,-964.42C1019.01,-948.35 1037.61,-924.32 1051.97,-905.77"/>
<polygon fill="#555555" stroke="#555555" points="1053.83,-907.94 1056.52,-899.9 1049.4,-904.51 1053.83,-907.94"/>
</g>
<!-- a_none -->
<g id="node36" class="node">
<title>a_none</title>
<path fill="#f5eeff" stroke="#6625a8" d="M1336.34,-767.7C1336.34,-767.7 1207.66,-767.7 1207.66,-767.7 1201.66,-767.7 1195.66,-761.7 1195.66,-755.7 1195.66,-755.7 1195.66,-742.8 1195.66,-742.8 1195.66,-736.8 1201.66,-730.8 1207.66,-730.8 1207.66,-730.8 1336.34,-730.8 1336.34,-730.8 1342.34,-730.8 1348.34,-736.8 1348.34,-742.8 1348.34,-742.8 1348.34,-755.7 1348.34,-755.7 1348.34,-761.7 1342.34,-767.7 1336.34,-767.7"/>
<text xml:space="preserve" text-anchor="middle" x="1272" y="-751" font-family="Helvetica,Arial,sans-serif" font-size="10.00">nb_assign_ip(interface_id, ip)</text>
<text xml:space="preserve" text-anchor="middle" x="1272" y="-739.75" font-family="Helvetica,Arial,sans-serif" font-size="10.00">(no IP was on record)</text>
</g>
<!-- a_count&#45;&gt;a_none -->
<g id="edge42" class="edge">
<title>a_count&#45;&gt;a_none</title>
<path fill="none" stroke="#555555" d="M1099.43,-859.82C1134.61,-837.48 1196.97,-797.89 1236.31,-772.91"/>
<polygon fill="#555555" stroke="#555555" points="1237.33,-775.58 1242.58,-768.93 1234.33,-770.85 1237.33,-775.58"/>
<text xml:space="preserve" text-anchor="middle" x="1197.66" y="-818.4" font-family="Helvetica,Arial,sans-serif" font-size="9.00">no — 0 records</text>
</g>
<!-- a_cmp -->
<g id="node38" class="node">
<title>a_cmp</title>
<path fill="#fff3cd" stroke="#856404" d="M1062.04,-781.27C1062.04,-781.27 1001.04,-754.13 1001.04,-754.13 995.56,-751.69 995.56,-746.81 1001.04,-744.37 1001.04,-744.37 1062.04,-717.23 1062.04,-717.23 1067.52,-714.79 1078.48,-714.79 1083.96,-717.23 1083.96,-717.23 1144.96,-744.37 1144.96,-744.37 1150.44,-746.81 1150.44,-751.69 1144.96,-754.13 1144.96,-754.13 1083.96,-781.27 1083.96,-781.27 1078.48,-783.71 1067.52,-783.71 1062.04,-781.27"/>
<text xml:space="preserve" text-anchor="middle" x="1073" y="-751" font-family="Helvetica,Arial,sans-serif" font-size="10.00">DHCP IP ==</text>
<text xml:space="preserve" text-anchor="middle" x="1073" y="-739.75" font-family="Helvetica,Arial,sans-serif" font-size="10.00">NetBox IP?</text>
</g>
<!-- a_count&#45;&gt;a_cmp -->
<g id="edge43" class="edge">
<title>a_count&#45;&gt;a_cmp</title>
<path fill="none" stroke="#555555" d="M1073,-851.64C1073,-835.76 1073,-814.74 1073,-795.95"/>
<polygon fill="#555555" stroke="#555555" points="1075.8,-796.16 1073,-788.16 1070.2,-796.16 1075.8,-796.16"/>
<text xml:space="preserve" text-anchor="middle" x="1080.12" y="-818.4" font-family="Helvetica,Arial,sans-serif" font-size="9.00">yes</text>
</g>
<!-- a_none&#45;&gt;as_post -->
<g id="edge44" class="edge">
<title>a_none&#45;&gt;as_post</title>
<path fill="none" stroke="#555555" d="M1344.31,-730.35C1385.93,-719.36 1438.94,-704.19 1485,-687.35 1497.64,-682.73 1510.6,-677.66 1523.55,-672.36"/>
<polygon fill="#555555" stroke="#555555" points="1524.34,-675.07 1530.66,-669.43 1522.2,-669.89 1524.34,-675.07"/>
</g>
<!-- a_jrnl_n&#45;&gt;done -->
<g id="edge47" class="edge">
<title>a_jrnl_n&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M1356,-686.3C1385.85,-682.92 1399.27,-687.16 1427,-668.85 1472.74,-638.64 1451.78,-595.5 1500,-569.45 1591.63,-519.94 1886.75,-609.61 1968,-544.45 2095.69,-442.04 2093.75,-280.94 1968,-176.15 1929.57,-144.13 1118,-152.65 1068,-151.15 814.79,-143.54 511.04,-133.36 399.16,-129.57"/>
<polygon fill="#555555" stroke="#555555" points="399.47,-126.78 391.38,-129.31 399.28,-132.38 399.47,-126.78"/>
</g>
<!-- a_ok -->
<g id="node39" class="node">
<title>a_ok</title>
<path fill="#d4edda" stroke="#28a745" d="M1011.96,-617.6C1011.96,-617.6 920.04,-617.6 920.04,-617.6 914.04,-617.6 908.04,-611.6 908.04,-605.6 908.04,-605.6 908.04,-592.7 908.04,-592.7 908.04,-586.7 914.04,-580.7 920.04,-580.7 920.04,-580.7 1011.96,-580.7 1011.96,-580.7 1017.96,-580.7 1023.96,-586.7 1023.96,-592.7 1023.96,-592.7 1023.96,-605.6 1023.96,-605.6 1023.96,-611.6 1017.96,-617.6 1011.96,-617.6"/>
<text xml:space="preserve" text-anchor="middle" x="966" y="-600.9" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_info: IP matches</text>
<text xml:space="preserve" text-anchor="middle" x="966" y="-589.65" font-family="Helvetica,Arial,sans-serif" font-size="10.00">no action</text>
</g>
<!-- a_cmp&#45;&gt;a_ok -->
<g id="edge48" class="edge">
<title>a_cmp&#45;&gt;a_ok</title>
<path fill="none" stroke="#28a745" d="M1053.12,-720.74C1033.32,-693.33 1003.18,-651.62 984.05,-625.13"/>
<polygon fill="#28a745" stroke="#28a745" points="986.57,-623.83 979.61,-618.99 982.03,-627.11 986.57,-623.83"/>
<text xml:space="preserve" text-anchor="middle" x="1038.28" y="-678.43" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#28a745">match</text>
</g>
<!-- a_warn -->
<g id="node40" class="node">
<title>a_warn</title>
<path fill="#fff9c4" stroke="#856404" d="M1237.84,-617.6C1237.84,-617.6 1076.16,-617.6 1076.16,-617.6 1070.16,-617.6 1064.16,-611.6 1064.16,-605.6 1064.16,-605.6 1064.16,-592.7 1064.16,-592.7 1064.16,-586.7 1070.16,-580.7 1076.16,-580.7 1076.16,-580.7 1237.84,-580.7 1237.84,-580.7 1243.84,-580.7 1249.84,-586.7 1249.84,-592.7 1249.84,-592.7 1249.84,-605.6 1249.84,-605.6 1249.84,-611.6 1243.84,-617.6 1237.84,-617.6"/>
<text xml:space="preserve" text-anchor="middle" x="1157" y="-600.9" font-family="Helvetica,Arial,sans-serif" font-size="10.00">log_warn: IP mismatch</text>
<text xml:space="preserve" text-anchor="middle" x="1157" y="-589.65" font-family="Helvetica,Arial,sans-serif" font-size="10.00">NetBox={recorded} &#160;DHCP={offered}</text>
</g>
<!-- a_cmp&#45;&gt;a_warn -->
<g id="edge49" class="edge">
<title>a_cmp&#45;&gt;a_warn</title>
<path fill="none" stroke="#856404" d="M1089.4,-719.34C1104.75,-692.27 1127.49,-652.17 1142.28,-626.1"/>
<polygon fill="#856404" stroke="#856404" points="1144.71,-627.49 1146.22,-619.15 1139.84,-624.73 1144.71,-627.49"/>
<text xml:space="preserve" text-anchor="middle" x="1131.98" y="-678.43" font-family="Helvetica,Arial,sans-serif" font-size="9.00" fill="#856404">mismatch</text>
</g>
<!-- a_ok&#45;&gt;done -->
<g id="edge51" class="edge">
<title>a_ok&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M900,-596.72C823.56,-591.14 708,-568.84 708,-485.05 708,-485.05 708,-485.05 708,-246.8 708,-182.1 492.27,-146 398.11,-133.33"/>
<polygon fill="#555555" stroke="#555555" points="398.65,-130.57 390.35,-132.3 397.91,-136.13 398.65,-130.57"/>
</g>
<!-- a_jrnl_w -->
<g id="node41" class="node">
<title>a_jrnl_w</title>
<path fill="#ddc9f7" stroke="#6625a8" d="M1234.09,-502.5C1234.09,-502.5 1079.91,-502.5 1079.91,-502.5 1073.91,-502.5 1067.91,-496.5 1067.91,-490.5 1067.91,-490.5 1067.91,-477.6 1067.91,-477.6 1067.91,-471.6 1073.91,-465.6 1079.91,-465.6 1079.91,-465.6 1234.09,-465.6 1234.09,-465.6 1240.09,-465.6 1246.09,-471.6 1246.09,-477.6 1246.09,-477.6 1246.09,-490.5 1246.09,-490.5 1246.09,-496.5 1240.09,-502.5 1234.09,-502.5"/>
<text xml:space="preserve" text-anchor="middle" x="1157" y="-485.8" font-family="Helvetica,Arial,sans-serif" font-size="10.00">POST /api/extras/journal&#45;entries/</text>
<text xml:space="preserve" text-anchor="middle" x="1157" y="-474.55" font-family="Helvetica,Arial,sans-serif" font-size="10.00">kind=warning &#160;&quot;BMC IP mismatch&quot;</text>
</g>
<!-- a_warn&#45;&gt;a_jrnl_w -->
<g id="edge50" class="edge">
<title>a_warn&#45;&gt;a_jrnl_w</title>
<path fill="none" stroke="#555555" d="M1157,-580.23C1157,-561.95 1157,-533.35 1157,-512.27"/>
<polygon fill="#555555" stroke="#555555" points="1159.8,-512.4 1157,-504.4 1154.2,-512.4 1159.8,-512.4"/>
</g>
<!-- a_jrnl_w&#45;&gt;done -->
<g id="edge52" class="edge">
<title>a_jrnl_w&#45;&gt;done</title>
<path fill="none" stroke="#555555" d="M900,-464.5C698.3,-444.18 440.37,-403.5 371,-325.5 328.81,-278.06 339.15,-196.37 348.2,-154.5"/>
<polygon fill="#555555" stroke="#555555" points="350.87,-155.37 349.93,-146.95 345.41,-154.12 350.87,-155.37"/>
</g>
<!-- s_prov -->
<g id="node43" class="node">
<title>s_prov</title>
<path fill="#f5f5f5" stroke="#9e9e9e" stroke-dasharray="5,2" d="M1751.21,-1002.15C1751.21,-1002.15 1624.79,-1002.15 1624.79,-1002.15 1618.79,-1002.15 1612.79,-996.15 1612.79,-990.15 1612.79,-990.15 1612.79,-975.75 1612.79,-975.75 1612.79,-969.75 1618.79,-963.75 1624.79,-963.75 1624.79,-963.75 1751.21,-963.75 1751.21,-963.75 1757.21,-963.75 1763.21,-969.75 1763.21,-975.75 1763.21,-975.75 1763.21,-990.15 1763.21,-990.15 1763.21,-996.15 1757.21,-1002.15 1751.21,-1002.15"/>
<text xml:space="preserve" text-anchor="middle" x="1688" y="-985.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">provisioned: staged → ready</text>
<text xml:space="preserve" text-anchor="middle" x="1688" y="-972.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">_fsm_staged_to_ready()</text>
</g>
<!-- s_deliv -->
<g id="node44" class="node">
<title>s_deliv</title>
<path fill="#f5f5f5" stroke="#9e9e9e" stroke-dasharray="5,2" d="M1928.46,-1002.15C1928.46,-1002.15 1815.54,-1002.15 1815.54,-1002.15 1809.54,-1002.15 1803.54,-996.15 1803.54,-990.15 1803.54,-990.15 1803.54,-975.75 1803.54,-975.75 1803.54,-969.75 1809.54,-963.75 1815.54,-963.75 1815.54,-963.75 1928.46,-963.75 1928.46,-963.75 1934.46,-963.75 1940.46,-969.75 1940.46,-975.75 1940.46,-975.75 1940.46,-990.15 1940.46,-990.15 1940.46,-996.15 1934.46,-1002.15 1928.46,-1002.15"/>
<text xml:space="preserve" text-anchor="middle" x="1872" y="-985.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">delivered: ready → active</text>
<text xml:space="preserve" text-anchor="middle" x="1872" y="-972.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">_fsm_ready_to_active()</text>
</g>
<!-- s_decom -->
<g id="node45" class="node">
<title>s_decom</title>
<path fill="#f5f5f5" stroke="#9e9e9e" stroke-dasharray="5,2" d="M2179.21,-1002.15C2179.21,-1002.15 1992.79,-1002.15 1992.79,-1002.15 1986.79,-1002.15 1980.79,-996.15 1980.79,-990.15 1980.79,-990.15 1980.79,-975.75 1980.79,-975.75 1980.79,-969.75 1986.79,-963.75 1992.79,-963.75 1992.79,-963.75 2179.21,-963.75 2179.21,-963.75 2185.21,-963.75 2191.21,-969.75 2191.21,-975.75 2191.21,-975.75 2191.21,-990.15 2191.21,-990.15 2191.21,-996.15 2185.21,-1002.15 2179.21,-1002.15"/>
<text xml:space="preserve" text-anchor="middle" x="2086" y="-985.45" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">decommission: active → decommissioned</text>
<text xml:space="preserve" text-anchor="middle" x="2086" y="-972.7" font-family="Helvetica,Arial,sans-serif" font-size="10.00" fill="#9e9e9e">_fsm_active_to_decommissioned()</text>
</g>
</g>
</svg>
